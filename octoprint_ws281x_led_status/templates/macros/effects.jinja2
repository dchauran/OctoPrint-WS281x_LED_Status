{% macro labelled_checkbox(setting, label) %}
<label class="checkbox inline">
    <input type="checkbox" data-bind="checked: {{ binding.bind_setting(setting) }}">
    {{ label }}
</label>
{% endmacro %}

{% macro effect_checkbox(effect, name) %}
<label class="checkbox inline">
    <input type="checkbox" data-bind="checked: {{ binding.effect_binding(effect + ".enabled") }}">
    Enable {{ name }} effect
</label>
{% endmacro %}

{% macro effect_color(effect) %}
<label for="ws_{{ effect }}_color" class="inline"> Colour </label>
<input id="ws_{{ effect }}_color" type="color" class="input-small" data-bind="value: {{ binding.effect_binding(effect + ".color") }}">
{% endmacro %}

{% macro effect_delay(effect) %}
<label class="inline" for="ws_{{ effect }}_delay"> Delay </label>
<div class="input-append">
    <input id="ws_{{ effect }}_delay" type="number" step="0.1" class="input-small" data-bind="value: {{ binding.effect_binding(effect + ".delay") }}">
    <span class="add-on">ms</span>
</div>
{% endmacro %}

{% macro color_select(effect) %}
<label for="ws_{{ effect }}_color" class="inline">Progress Color </label>
<input id="ws_{{ effect }}_color" type="color" class="input-small" data-bind="value: {{ binding.effect_binding(effect + ".color") }}">
<label for="ws_{{ effect }}_base" class="inline">Base color </label>
<input id="ws_{{ effect }}_base" type="color" class="input-small" data-bind="value: {{ binding.effect_binding(effect + ".base") }}">
{% endmacro %}

{% macro progress_select(effect) %}
<label for="ws_{{ effect }}_effect" class="inline">Effect </label>
<select id="ws_{{ effect }}_effect" class="input-large" data-bind="value: {{ binding.effect_binding(effect + ".effect") }}">
    {% for effect in plugin_ws281x_led_progress_standard_names %}
    <option value="{{ effect }}">{{ effect }}</option>
    {% endfor %}
</select>
{% endmacro %}

{% macro status_select(effect) %}
<label for="ws_{{ effect }}_effect" class="inline">Effect </label>
<select id="ws_{{ effect }}_effect" class="input-large" data-bind="value: {{ binding.effect_binding(effect + ".effect") }}">
    {% for effect in plugin_ws281x_led_status_standard_names %}
    <option value="{{ effect }}">{{ effect }}</option>
    {% endfor %}
</select>
{% endmacro %}

{% macro effect(id, name, progress) %}
{{ effect_checkbox(id, name) }}
<div class="form-inline" data-bind="visible: {{ binding.effect_binding(id + ".enabled") }}">
    {% if progress %}
        {{ progress_select(id) }}
        {{ color_select(id) }}
    {% else %}
        {{ status_select(id) }}
        {{ effect_delay(id) }}
        {{ effect_color(id) }}
    {% endif %}}
</div>
{% endmacro %}
